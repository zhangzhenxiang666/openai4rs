<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenAI4RS API Reference</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.5;
            color: #1a1a1a;
            background: #ffffff;
        }

        .header {
            background: #000;
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #333;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .lang-switch a {
            color: #888;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s;
        }

        .lang-switch a:hover {
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 0;
            min-height: calc(100vh - 60px);
        }

        .sidebar {
            background: #fafafa;
            border-right: 1px solid #e1e5e9;
            padding: 2rem 0;
            position: sticky;
            top: 60px;
            height: calc(100vh - 60px);
            overflow-y: auto;
        }

        .sidebar nav {
            padding: 0 1.5rem;
        }

        .sidebar ul {
            list-style: none;
        }

        .sidebar>nav>ul>li {
            margin-bottom: 1.5rem;
        }

        .sidebar>nav>ul>li>a {
            font-weight: 600;
            color: #1a1a1a;
            text-decoration: none;
            font-size: 0.95rem;
            display: block;
            padding: 0.5rem 0;
        }

        .sidebar ul ul {
            margin-top: 0.5rem;
            margin-left: 1rem;
        }

        .sidebar ul ul li {
            margin-bottom: 0.25rem;
        }

        .sidebar ul ul a {
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
            display: block;
            padding: 0.25rem 0;
            transition: color 0.2s;
        }

        .sidebar ul ul a:hover {
            color: #0066cc;
        }

        .main-content {
            padding: 2rem;
            background: white;
        }

        .api-section {
            margin-bottom: 3rem;
        }

        .api-section h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .api-method {
            background: #fafafa;
            border: 1px solid #e1e5e9;
            border-radius: 6px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .method-header {
            background: white;
            padding: 1.5rem;
            border-bottom: 1px solid #e1e5e9;
        }

        .method-signature {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            font-size: 0.9rem;
            background: #f8f8f8;
            padding: 1rem;
            border-radius: 4px;
            border-left: 3px solid #0066cc;
            margin-bottom: 1rem;
            overflow-x: auto;
            color: #1a1a1a;
        }

        .method-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 0.5rem;
        }

        .method-description {
            color: #666;
            line-height: 1.6;
        }

        .method-body {
            padding: 1.5rem;
        }

        .params-section,
        .returns-section {
            margin-bottom: 1.5rem;
        }

        .section-title {
            font-size: 1rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 0.75rem;
        }

        .param-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .param-table th {
            background: #f8f8f8;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            color: #1a1a1a;
            border-bottom: 1px solid #e1e5e9;
        }

        .param-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #f0f0f0;
            vertical-align: top;
        }

        .param-name {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            font-weight: 600;
            color: #d73a49;
        }

        .param-type {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            color: #6f42c1;
            font-size: 0.85rem;
        }

        .param-required {
            color: #d73a49;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .param-optional {
            color: #666;
            font-size: 0.8rem;
        }

        .code-example {
            background: #f6f8fa;
            border: 1px solid #e1e5e9;
            border-radius: 6px;
            margin: 1rem 0;
        }

        .code-header {
            background: #f1f3f4;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e1e5e9;
            font-size: 0.85rem;
            font-weight: 600;
            color: #666;
        }

        .code-content {
            padding: 1rem;
        }

        .code-content pre {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.45;
            color: #1a1a1a;
            overflow-x: auto;
        }

        .response-example {
            background: #f8f9fa;
            border-left: 3px solid #28a745;
        }

        .request-example {
            background: #fff5f5;
            border-left: 3px solid #dc3545;
        }

        .overview-section {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 6px;
            margin-bottom: 2rem;
        }

        .overview-section h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .feature-item {
            background: white;
            padding: 1rem;
            border-radius: 4px;
            border-left: 3px solid #0066cc;
        }

        .feature-item h4 {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #1a1a1a;
        }

        .feature-item p {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.4;
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                display: none;
            }
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="header-content">
            <h1>OpenAI4RS API Reference</h1>
            <div class="lang-switch">
                <a href="index.html">中文</a>
            </div>
        </div>
    </header>

    <div class="container">
        <aside class="sidebar">
            <nav>
                <ul>
                    <li><a href="#overview">Overview</a></li>
                    <li>
                        <a href="#client">Client</a>
                        <ul>
                            <li><a href="#client-new">new</a></li>
                            <li><a href="#client-with-config">with_config</a></li>
                            <li><a href="#client-from-env">from_env</a></li>
                            <li><a href="#client-update-config">update_config</a></li>
                            <li><a href="#client-chat">chat</a></li>
                            <li><a href="#client-completions">completions</a></li>
                            <li><a href="#client-models">models</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#config">Configuration</a>
                        <ul>
                            <li><a href="#config-new">new</a></li>
                            <li><a href="#config-builder">builder</a></li>
                            <li><a href="#config-build-openai">build_openai</a></li>
                            <li><a href="#config-getters-setters">getter/setter</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#request-builders">Request Builders</a>
                        <ul>
                            <li><a href="#chat-request">chat_request</a></li>
                            <li><a href="#completions-request">completions_request</a></li>
                            <li><a href="#models-request">models_request</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#request-builders">Request Builders</a>
                        <ul>
                            <li><a href="#chat-request">chat_request</a></li>
                            <li><a href="#completions-request">completions_request</a></li>
                            <li><a href="#models-request">models_request</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#chat">Chat Completions</a>
                        <ul>
                            <li><a href="#chat-create">create</a></li>
                            <li><a href="#chat-create-stream">create_stream</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#completions">Text Completions</a>
                        <ul>
                            <li><a href="#completions-create">create</a></li>
                            <li><a href="#completions-create-stream">create_stream</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#models">Models</a>
                        <ul>
                            <li><a href="#models-list">list</a></li>
                            <li><a href="#models-retrieve">retrieve</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#macros">Macros</a>
                        <ul>
                            <li><a href="#macro-user">user!</a></li>
                            <li><a href="#macro-system">system!</a></li>
                            <li><a href="#macro-tool">tool!</a></li>
                            <li><a href="#macro-content">content!</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <section id="overview" class="api-section">
                <div class="overview-section">
                    <h3>OpenAI4RS</h3>
                    <p>A comprehensive Rust client library for interacting with OpenAI-compatible APIs. Provides
                        type-safe async interfaces for chat completions, text completions, model management, and tool
                        calling.</p>

                    <div class="feature-list">
                        <div class="feature-item">
                            <h4>Chat Completions</h4>
                            <p>Both streaming and non-streaming chat completions with tool calling and reasoning mode
                                support</p>
                        </div>
                        <div class="feature-item">
                            <h4>Text Completions</h4>
                            <p>Legacy text completions API support for older models</p>
                        </div>
                        <div class="feature-item">
                            <h4>Model Management</h4>
                            <p>List available models and retrieve detailed model information</p>
                        </div>
                        <div class="feature-item">
                            <h4>Type Safety</h4>
                            <p>Fully typed API with compile-time error checking</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="client" class="api-section">
                <h2>Client (OpenAI)</h2>

                <div id="client-new" class="api-method">
                    <div class="method-header">
                        <div class="method-title">OpenAI::new</div>
                        <div class="method-signature">pub fn new(api_key: &str, base_url: &str) -> Self</div>
                        <div class="method-description">Creates a new OpenAI client instance</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">api_key</span></td>
                                        <td><span class="param-type">&str</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Your OpenAI API key</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">base_url</span></td>
                                        <td><span class="param-type">&str</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>The base URL for the API</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::OpenAI;

let client = OpenAI::new(
    "sk-your-api-key",
    "https://api.openai.com/v1"
);</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="client-with-config" class="api-method">
                    <div class="method-header">
                        <div class="method-title">OpenAI::with_config</div>
                        <div class="method-signature">pub fn with_config(config: Config) -> Self</div>
                        <div class="method-description">Creates a client with custom configuration</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">config</span></td>
                                        <td><span class="param-type">Config</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Configuration instance</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::{Config, OpenAI};

let config = Config::new(
    "sk-your-api-key".to_string(),
    "https://api.openai.com/v1".to_string()
)
.set_retry_count(3)
.set_timeout_seconds(120);

let client = OpenAI::with_config(config);</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="client-from-env" class="api-method">
                    <div class="method-header">
                        <div class="method-title">OpenAI::from_env</div>
                        <div class="method-signature">pub fn from_env() -> Result&lt;Self, OpenAIError&gt;</div>
                        <div class="method-description">Creates a client from environment variables</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Environment Variables</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Variable</th>
                                        <th>Required</th>
                                        <th>Default</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">OPENAI_API_KEY</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>-</td>
                                        <td>Your API key</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">OPENAI_BASE_URL</span></td>
                                        <td><span class="param-optional">Optional</span></td>
                                        <td>https://api.openai.com/v1</td>
                                        <td>Base URL</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">OPENAI_TIMEOUT</span></td>
                                        <td><span class="param-optional">Optional</span></td>
                                        <td>60</td>
                                        <td>Request timeout (seconds)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="returns-section">
                            <div class="section-title">Returns</div>
                            <table class="param-table">
                                <tbody>
                                    <tr>
                                        <td><span class="param-type">Result&lt;OpenAI, OpenAIError&gt;</span></td>
                                        <td>Client instance or error</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::OpenAI;

let client = OpenAI::from_env()?;</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="client-update-config" class="api-method">
                    <div class="method-header">
                        <div class="method-title">update_config</div>
                        <div class="method-signature">pub async fn update_config&lt;F&gt;(&self, update_fn: F)
                            where F: FnOnce(&mut Config)</div>
                        <div class="method-description">Updates client configuration</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">update_fn</span></td>
                                        <td><span class="param-type">F</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Configuration update function</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>client.update_config(|config| {
    config.set_timeout_seconds(120)
          .set_retry_count(3);
}).await;</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="client-chat" class="api-method">
                    <div class="method-header">
                        <div class="method-title">chat</div>
                        <div class="method-signature">pub fn chat(&self) -> &Chat</div>
                        <div class="method-description">Returns chat completions client instance</div>
                    </div>
                    <div class="method-body">
                        <div class="returns-section">
                            <div class="section-title">Returns</div>
                            <table class="param-table">
                                <tbody>
                                    <tr>
                                        <td><span class="param-type">&Chat</span></td>
                                        <td>Chat completions client reference</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>let chat_client = client.chat();</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="client-completions" class="api-method">
                    <div class="method-header">
                        <div class="method-title">completions</div>
                        <div class="method-signature">pub fn completions(&self) -> &Completions</div>
                        <div class="method-description">Returns text completions client instance</div>
                    </div>
                    <div class="method-body">
                        <div class="returns-section">
                            <div class="section-title">Returns</div>
                            <table class="param-table">
                                <tbody>
                                    <tr>
                                        <td><span class="param-type">&Completions</span></td>
                                        <td>Text completions client reference</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>let completions_client = client.completions();</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="client-models" class="api-method">
                    <div class="method-header">
                        <div class="method-title">models</div>
                        <div class="method-signature">pub fn models(&self) -> &Models</div>
                        <div class="method-description">Returns models management client instance</div>
                    </div>
                    <div class="method-body">
                        <div class="returns-section">
                            <div class="section-title">Returns</div>
                            <table class="param-table">
                                <tbody>
                                    <tr>
                                        <td><span class="param-type">&Models</span></td>
                                        <td>Models management client reference</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>let models_client = client.models();</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="config" class="api-section">
                <h2>Configuration (Config)</h2>

                <div id="config-new" class="api-method">
                    <div class="method-header">
                        <div class="method-title">Config::new</div>
                        <div class="method-signature">pub fn new(api_key: String, base_url: String) -> Self</div>
                        <div class="method-description">Creates a new configuration instance</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">api_key</span></td>
                                        <td><span class="param-type">String</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>API key</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">base_url</span></td>
                                        <td><span class="param-type">String</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Base URL</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::Config;

let config = Config::new(
    "sk-your-api-key".to_string(),
    "https://api.openai.com/v1".to_string()
);</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="config-builder" class="api-method">
                    <div class="method-header">
                        <div class="method-title">Config::builder</div>
                        <div class="method-signature">pub fn builder() -> OpenAIConfigBuilder</div>
                        <div class="method-description">Creates a configuration builder</div>
                    </div>
                    <div class="method-body">
                        <div class="returns-section">
                            <div class="section-title">Returns</div>
                            <table class="param-table">
                                <tbody>
                                    <tr>
                                        <td><span class="param-type">OpenAIConfigBuilder</span></td>
                                        <td>Configuration builder instance</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::Config;

let config = Config::builder()
    .api_key("sk-your-api-key".to_string())
    .base_url("https://api.openai.com/v1".to_string())
    .retry_count(3)
    .timeout_seconds(120)
    .connect_timeout_seconds(15)
    .proxy("http://proxy.example.com:8080".to_string())
    .user_agent("MyApp/1.0".to_string())
    .build()
    .unwrap();</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="config-build-openai" class="api-method">
                    <div class="method-header">
                        <div class="method-title">OpenAIConfigBuilder::build_openai</div>
                        <div class="method-signature">pub fn build_openai(self) -> Result&lt;OpenAI,
                            derive_builder::UninitializedFieldError&gt;</div>
                        <div class="method-description">Builds configuration and creates OpenAI client directly</div>
                    </div>
                    <div class="method-body">
                        <div class="returns-section">
                            <div class="section-title">Returns</div>
                            <table class="param-table">
                                <tbody>
                                    <tr>
                                        <td><span class="param-type">Result&lt;OpenAI, Error&gt;</span></td>
                                        <td>OpenAI client instance or error</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::Config;

let client = Config::builder()
    .api_key("sk-your-api-key".to_string())
    .base_url("https://api.openai.com/v1".to_string())
    .retry_count(3)
    .timeout_seconds(120)
    .build_openai()
    .unwrap();</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="config-getters-setters" class="api-method">
                    <div class="method-header">
                        <div class="method-title">Configuration Getter/Setter Methods</div>
                        <div class="method-description">Methods for getting and setting configuration parameters</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Available Methods</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Type</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">get_api_key() / set_api_key()</span></td>
                                        <td><span class="param-type">String</span></td>
                                        <td>API key</td>
                                        <td>-</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">get_base_url() / set_base_url()</span></td>
                                        <td><span class="param-type">String</span></td>
                                        <td>Base URL</td>
                                        <td>-</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">get_retry_count() / set_retry_count()</span></td>
                                        <td><span class="param-type">u32</span></td>
                                        <td>Retry attempts</td>
                                        <td>5</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">get_timeout_seconds() /
                                                set_timeout_seconds()</span></td>
                                        <td><span class="param-type">u64</span></td>
                                        <td>Request timeout (seconds)</td>
                                        <td>60</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">get_connect_timeout_seconds() /
                                                set_connect_timeout_seconds()</span></td>
                                        <td><span class="param-type">u64</span></td>
                                        <td>Connect timeout (seconds)</td>
                                        <td>10</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">get_proxy() / set_proxy()</span></td>
                                        <td><span class="param-type">Option&lt;String&gt;</span></td>
                                        <td>HTTP proxy URL</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">get_user_agent() / set_user_agent()</span></td>
                                        <td><span class="param-type">Option&lt;String&gt;</span></td>
                                        <td>User agent string</td>
                                        <td>None</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::Config;

let mut config = Config::new(
    "sk-key".to_string(),
    "https://api.openai.com/v1".to_string()
);

// Chained setters
config.set_retry_count(3)
      .set_timeout_seconds(120)
      .set_proxy(Some("http://proxy:8080".to_string()));

// Get values
println!("Retry count: {}", config.get_retry_count());
println!("Timeout: {}", config.get_timeout_seconds());</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="request-builders" class="api-section">
                <h2>Request Builders</h2>

                <div id="chat-request" class="api-method">
                    <div class="method-header">
                        <div class="method-title">chat_request</div>
                        <div class="method-signature">pub fn chat_request&lt;'a&gt;(model: &'a str, messages: &'a
                            Vec&lt;ChatCompletionMessageParam&gt;) -> RequestParamsBuilder&lt;'a&gt;</div>
                        <div class="method-description">Creates a chat completion request builder</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">model</span></td>
                                        <td><span class="param-type">&str</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Model ID like "gpt-4" or "o1"</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">messages</span></td>
                                        <td><span class="param-type">&Vec&lt;ChatCompletionMessageParam&gt;</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>List of conversation messages</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="params-section">
                            <div class="section-title">Chainable Methods</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Type</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">frequency_penalty()</span></td>
                                        <td><span class="param-type">Option&lt;f32&gt;</span></td>
                                        <td>Frequency penalty, range -2.0 to 2.0</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">logit_bias()</span></td>
                                        <td><span class="param-type">Option&lt;HashMap&lt;String, i32&gt;&gt;</span>
                                        </td>
                                        <td>Modify likelihood of specified tokens</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">logprobs()</span></td>
                                        <td><span class="param-type">Option&lt;bool&gt;</span></td>
                                        <td>Return log probabilities of output tokens</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">max_completion_tokens()</span></td>
                                        <td><span class="param-type">Option&lt;i32&gt;</span></td>
                                        <td>Maximum number of tokens to generate</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">temperature()</span></td>
                                        <td><span class="param-type">Option&lt;f32&gt;</span></td>
                                        <td>Sampling temperature, range 0 to 2</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">top_p()</span></td>
                                        <td><span class="param-type">Option&lt;f32&gt;</span></td>
                                        <td>Nucleus sampling parameter</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">tools()</span></td>
                                        <td><span
                                                class="param-type">Option&lt;Vec&lt;ChatCompletionToolParam&gt;&gt;</span>
                                        </td>
                                        <td>List of tools the model can call</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">tool_choice()</span></td>
                                        <td><span class="param-type">Option&lt;ToolChoice&gt;</span></td>
                                        <td>Controls tool calling behavior</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">reasoning_effort()</span></td>
                                        <td><span class="param-type">Option&lt;ReasoningEffort&gt;</span></td>
                                        <td>Reasoning effort for o-series models</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">stream()</span></td>
                                        <td><span class="param-type">Option&lt;bool&gt;</span></td>
                                        <td>Enable streaming response</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">retry_count()</span></td>
                                        <td><span class="param-type">Option&lt;u32&gt;</span></td>
                                        <td>Number of retries</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">timeout_seconds()</span></td>
                                        <td><span class="param-type">Option&lt;u64&gt;</span></td>
                                        <td>Request timeout (seconds)</td>
                                        <td>None</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::{chat_request, user, system};

let messages = vec![
    system!("You are a helpful assistant."),
    user!("Hello, world!")
];

let request = chat_request("gpt-4", &messages)
    .temperature(0.7)
    .max_completion_tokens(100)
    .frequency_penalty(0.5);</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="completions-request" class="api-method">
                    <div class="method-header">
                        <div class="method-title">completions_request</div>
                        <div class="method-signature">pub fn completions_request&lt;'a&gt;(model: &'a str, prompt: &'a
                            str) -> RequestParamsBuilder&lt;'a&gt;</div>
                        <div class="method-description">Creates a text completion request builder</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">model</span></td>
                                        <td><span class="param-type">&str</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Model ID</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">prompt</span></td>
                                        <td><span class="param-type">&str</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Prompt to generate completion for</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="params-section">
                            <div class="section-title">Chainable Methods</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Type</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">max_tokens()</span></td>
                                        <td><span class="param-type">Option&lt;i32&gt;</span></td>
                                        <td>Maximum number of tokens to generate</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">temperature()</span></td>
                                        <td><span class="param-type">Option&lt;f32&gt;</span></td>
                                        <td>Sampling temperature, range 0 to 2</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">top_p()</span></td>
                                        <td><span class="param-type">Option&lt;f32&gt;</span></td>
                                        <td>Nucleus sampling parameter</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">frequency_penalty()</span></td>
                                        <td><span class="param-type">Option&lt;f32&gt;</span></td>
                                        <td>Frequency penalty</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">presence_penalty()</span></td>
                                        <td><span class="param-type">Option&lt;f32&gt;</span></td>
                                        <td>Presence penalty</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">n()</span></td>
                                        <td><span class="param-type">Option&lt;i32&gt;</span></td>
                                        <td>Number of completions to generate</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">stream()</span></td>
                                        <td><span class="param-type">Option&lt;bool&gt;</span></td>
                                        <td>Enable streaming response</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">retry_count()</span></td>
                                        <td><span class="param-type">Option&lt;u32&gt;</span></td>
                                        <td>Number of retries</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">timeout_seconds()</span></td>
                                        <td><span class="param-type">Option&lt;u64&gt;</span></td>
                                        <td>Request timeout (seconds)</td>
                                        <td>None</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::completions_request;

let request = completions_request("gpt-3.5-turbo-instruct", "Write a poem about Rust")
    .max_tokens(100)
    .temperature(0.8)
    .frequency_penalty(0.2);</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="models-request" class="api-method">
                    <div class="method-header">
                        <div class="method-title">models_request</div>
                        <div class="method-signature">pub fn models_request() -> RequestParamsBuilder</div>
                        <div class="method-description">Creates a models list request builder</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Chainable Methods</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Type</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">extra_headers()</span></td>
                                        <td><span class="param-type">Option&lt;HashMap&lt;String,
                                                serde_json::Value&gt;&gt;</span></td>
                                        <td>Additional request headers</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">extra_query()</span></td>
                                        <td><span class="param-type">Option&lt;HashMap&lt;String,
                                                serde_json::Value&gt;&gt;</span></td>
                                        <td>Additional query parameters</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">retry_count()</span></td>
                                        <td><span class="param-type">Option&lt;u32&gt;</span></td>
                                        <td>Number of retries</td>
                                        <td>None</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">timeout_seconds()</span></td>
                                        <td><span class="param-type">Option&lt;u64&gt;</span></td>
                                        <td>Request timeout (seconds)</td>
                                        <td>None</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::models_request;

let request = models_request()
    .retry_count(3)
    .timeout_seconds(30);</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="chat" class="api-section">
                <h2>Chat Completions</h2>

                <div id="chat-create" class="api-method">
                    <div class="method-header">
                        <div class="method-title">create</div>
                        <div class="method-signature">pub async fn create&lt;'a, T&gt;(&self, params: T) ->
                            Result&lt;ChatCompletion, OpenAIError&gt;
                            where T: IntoRequestParams&lt;'a&gt;</div>
                        <div class="method-description">Creates a chat completion request</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">params</span></td>
                                        <td><span class="param-type">T</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Request parameters</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="returns-section">
                            <div class="section-title">Returns</div>
                            <table class="param-table">
                                <tbody>
                                    <tr>
                                        <td><span class="param-type">Result&lt;ChatCompletion, OpenAIError&gt;</span>
                                        </td>
                                        <td>Chat completion response or error</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Request Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::{OpenAI, chat_request, user};

let client = OpenAI::from_env()?;
let messages = vec![user!("Hello, world!")];

let response = client
    .chat()
    .create(chat_request("gpt-4", &messages))
    .await?;</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chat-create-stream" class="api-method">
                    <div class="method-header">
                        <div class="method-title">create_stream</div>
                        <div class="method-signature">pub async fn create_stream&lt;'a, T&gt;(&self, params: T) ->
                            Result&lt;ReceiverStream&lt;Result&lt;ChatCompletionChunk, OpenAIError&gt;&gt;,
                            OpenAIError&gt;
                            where T: IntoRequestParams&lt;'a&gt;</div>
                        <div class="method-description">Creates a streaming chat completion request</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">params</span></td>
                                        <td><span class="param-type">T</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Request parameters</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="returns-section">
                            <div class="section-title">Returns</div>
                            <table class="param-table">
                                <tbody>
                                    <tr>
                                        <td><span
                                                class="param-type">Result&lt;ReceiverStream&lt;Result&lt;ChatCompletionChunk,
                                                OpenAIError&gt;&gt;, OpenAIError&gt;</span></td>
                                        <td>Stream of chat completion chunks or error</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Request Example</div>
                            <div class="code-content">
                                <pre>use futures::StreamExt;
use openai4rs::{OpenAI, chat_request, user};

let client = OpenAI::from_env()?;
let messages = vec![user!("Tell me a story")];

let mut stream = client
    .chat()
    .create_stream(chat_request("gpt-4", &messages))
    .await?;

while let Some(chunk) = stream.next().await {
    let chunk = chunk?;
    // Process response chunk
}</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="completions" class="api-section">
                <h2>Text Completions</h2>

                <div id="completions-create" class="api-method">
                    <div class="method-header">
                        <div class="method-title">create</div>
                        <div class="method-signature">pub async fn create&lt;'a, T&gt;(&self, params: T) ->
                            Result&lt;Completion, OpenAIError&gt;
                            where T: IntoRequestParams&lt;'a&gt;</div>
                        <div class="method-description">Creates a text completion request</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">params</span></td>
                                        <td><span class="param-type">T</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Request parameters</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Request Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::{OpenAI, completions_request};

let client = OpenAI::from_env()?;

let response = client
    .completions()
    .create(completions_request("gpt-3.5-turbo-instruct", "Hello"))
    .await?;</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="completions-create-stream" class="api-method">
                    <div class="method-header">
                        <div class="method-title">create_stream</div>
                        <div class="method-signature">pub async fn create_stream&lt;'a, T&gt;(&self, params: T) ->
                            Result&lt;ReceiverStream&lt;Result&lt;Completion, OpenAIError&gt;&gt;, OpenAIError&gt;
                            where T: IntoRequestParams&lt;'a&gt;</div>
                        <div class="method-description">Creates a streaming text completion request</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">params</span></td>
                                        <td><span class="param-type">T</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Request parameters</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Request Example</div>
                            <div class="code-content">
                                <pre>use futures::StreamExt;
use openai4rs::{OpenAI, completions_request};

let client = OpenAI::from_env()?;

let mut stream = client
    .completions()
    .create_stream(completions_request("gpt-3.5-turbo-instruct", "Hello"))
    .await?;</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="models" class="api-section">
                <h2>Models</h2>

                <div id="models-list" class="api-method">
                    <div class="method-header">
                        <div class="method-title">list</div>
                        <div class="method-signature">pub async fn list&lt;T&gt;(&self, params: T) ->
                            Result&lt;ModelsData, OpenAIError&gt;
                            where T: IntoRequestParams</div>
                        <div class="method-description">Lists available models</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">params</span></td>
                                        <td><span class="param-type">T</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Request parameters</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Request Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::{OpenAI, models_request};

let client = OpenAI::from_env()?;
let models = client.models().list(models_request()).await?;</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="models-retrieve" class="api-method">
                    <div class="method-header">
                        <div class="method-title">retrieve</div>
                        <div class="method-signature">pub async fn retrieve&lt;T&gt;(&self, model: &str, params: T) ->
                            Result&lt;Model, OpenAIError&gt;
                            where T: IntoRequestParams</div>
                        <div class="method-description">Retrieves a specific model</div>
                    </div>
                    <div class="method-body">
                        <div class="params-section">
                            <div class="section-title">Parameters</div>
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="param-name">model</span></td>
                                        <td><span class="param-type">&str</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Model ID</td>
                                    </tr>
                                    <tr>
                                        <td><span class="param-name">params</span></td>
                                        <td><span class="param-type">T</span></td>
                                        <td><span class="param-required">Required</span></td>
                                        <td>Request parameters</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-example request-example">
                            <div class="code-header">Request Example</div>
                            <div class="code-content">
                                <pre>use openai4rs::{OpenAI, models_request};

let client = OpenAI::from_env()?;
let model = client.models().retrieve("gpt-4", models_request()).await?;</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="macros" class="api-section">
                <h2>Macros</h2>

                <div id="macro-user" class="api-method">
                    <div class="method-header">
                        <div class="method-title">user!</div>
                        <div class="method-signature">user!(content) -> ChatCompletionMessageParam
                            user!(content, name) -> ChatCompletionMessageParam</div>
                        <div class="method-description">Creates a user message</div>
                    </div>
                    <div class="method-body">
                        <div class="code-example request-example">
                            <div class="code-header">Usage Example</div>
                            <div class="code-content">
                                <pre>let msg = user!("Hello");
let msg_with_name = user!("Hello", "Alice");</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="macro-system" class="api-method">
                    <div class="method-header">
                        <div class="method-title">system!</div>
                        <div class="method-signature">system!(content) -> ChatCompletionMessageParam
                            system!(content, name) -> ChatCompletionMessageParam</div>
                        <div class="method-description">Creates a system message</div>
                    </div>
                    <div class="method-body">
                        <div class="code-example request-example">
                            <div class="code-header">Usage Example</div>
                            <div class="code-content">
                                <pre>let msg = system!("You are a helpful assistant.");
let msg_with_name = system!("You are a helpful assistant.", "assistant");</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="macro-tool" class="api-method">
                    <div class="method-header">
                        <div class="method-title">tool!</div>
                        <div class="method-signature">tool!(tool_call_id, content) -> ChatCompletionMessageParam</div>
                        <div class="method-description">Creates a tool message</div>
                    </div>
                    <div class="method-body">
                        <div class="code-example request-example">
                            <div class="code-header">Usage Example</div>
                            <div class="code-content">
                                <pre>let tool_msg = tool!("call_123", {"result": 42});</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="macro-content" class="api-method">
                    <div class="method-header">
                        <div class="method-title">content!</div>
                        <div class="method-signature">content!(input) -> Content</div>
                        <div class="method-description">Creates a content object</div>
                    </div>
                    <div class="method-body">
                        <div class="code-example request-example">
                            <div class="code-header">Usage Example</div>
                            <div class="code-content">
                                <pre>let text = content!("Hello world");
let object = content!({"type": "text", "text": "Hello"});
let array = content!([1, 2, 3]);</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Sidebar highlighting functionality
        document.addEventListener('DOMContentLoaded', function () {
            const sections = document.querySelectorAll('.api-section');
            const methods = document.querySelectorAll('.api-method');
            const navLinks = document.querySelectorAll('.sidebar nav a');

            // Get all observable elements (sections + methods)
            const observableElements = [...sections, ...methods];

            // Create intersection observer
            const observer = new IntersectionObserver((entries) => {
                let mostVisible = null;
                let maxRatio = 0;

                // Find the most visible element
                entries.forEach(entry => {
                    if (entry.isIntersecting && entry.intersectionRatio > maxRatio) {
                        maxRatio = entry.intersectionRatio;
                        mostVisible = entry.target;
                    }
                });

                if (mostVisible) {
                    const id = mostVisible.id;

                    // Remove all active states
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        link.parentElement.classList.remove('active');
                    });

                    // Add current active state
                    const activeLink = document.querySelector(`.sidebar nav a[href="#${id}"]`);
                    if (activeLink) {
                        activeLink.classList.add('active');
                        activeLink.parentElement.classList.add('active');

                        // If it's a sub-link, also highlight parent
                        const parentUl = activeLink.closest('ul');
                        if (parentUl && parentUl.parentElement.tagName === 'LI') {
                            const parentLi = parentUl.parentElement;
                            const parentLink = parentLi.querySelector('a');
                            if (parentLink) {
                                parentLink.classList.add('active');
                                parentLi.classList.add('active');
                            }
                        }
                    }
                }
            }, {
                rootMargin: '-10% 0px -80% 0px',
                threshold: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]
            });

            // Observe all observable elements
            observableElements.forEach(element => {
                observer.observe(element);
            });

            // Smooth scrolling and manual highlighting on link click
            navLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);

                    if (targetElement) {
                        // Manually set active state
                        navLinks.forEach(l => {
                            l.classList.remove('active');
                            l.parentElement.classList.remove('active');
                        });

                        this.classList.add('active');
                        this.parentElement.classList.add('active');

                        // If it's a sub-link, also highlight parent
                        const parentUl = this.closest('ul');
                        if (parentUl && parentUl.parentElement.tagName === 'LI') {
                            const parentLi = parentUl.parentElement;
                            const parentLink = parentLi.querySelector('a');
                            if (parentLink) {
                                parentLink.classList.add('active');
                                parentLi.classList.add('active');
                            }
                        }

                        // Smooth scroll
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Update highlighting on scroll
            let scrollTimeout;
            window.addEventListener('scroll', function () {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(function () {
                    // Get currently visible element
                    const viewportTop = window.scrollY;
                    const viewportBottom = viewportTop + window.innerHeight;

                    let currentElement = null;
                    let minDistance = Infinity;

                    observableElements.forEach(element => {
                        const rect = element.getBoundingClientRect();
                        const elementTop = rect.top + window.scrollY;
                        const distance = Math.abs(elementTop - viewportTop - 100); // 100px offset

                        if (rect.top <= 200 && rect.bottom >= 0 && distance < minDistance) {
                            minDistance = distance;
                            currentElement = element;
                        }
                    });

                    if (currentElement) {
                        const id = currentElement.id;

                        // Remove all active states
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            link.parentElement.classList.remove('active');
                        });

                        // Add current active state
                        const activeLink = document.querySelector(`.sidebar nav a[href="#${id}"]`);
                        if (activeLink) {
                            activeLink.classList.add('active');
                            activeLink.parentElement.classList.add('active');

                            // If it's a sub-link, also highlight parent
                            const parentUl = activeLink.closest('ul');
                            if (parentUl && parentUl.parentElement.tagName === 'LI') {
                                const parentLi = parentUl.parentElement;
                                const parentLink = parentLi.querySelector('a');
                                if (parentLink) {
                                    parentLink.classList.add('active');
                                    parentLi.classList.add('active');
                                }
                            }
                        }
                    }
                }, 100);
            });
        });

        // Language switching functionality
        function switchLanguage(lang) {
            if (lang === 'en') {
                window.location.href = 'index_en.html';
            } else {
                window.location.href = 'index.html';
            }
        }
    </script>

    <style>
        /* Enhanced sidebar base styles */
        .sidebar nav a {
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border-radius: 8px;
            margin: 2px 8px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 8px 16px;
            background-color: transparent;
            transform: translateX(0);
            opacity: 1;
        }

        /* Active state styles */
        .sidebar nav a.active {
            background: linear-gradient(135deg, #007acc 0%, #0056b3 100%) !important;
            color: white !important;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(0, 122, 204, 0.3);
            transform: translateX(3px) scale(1.02);
        }

        /* Parent link active state */
        .sidebar nav>ul>li.active>a {
            background: linear-gradient(135deg, #005999 0%, #003d7a 100%) !important;
            color: white !important;
            font-weight: 600;
            box-shadow: 0 2px 12px rgba(0, 89, 153, 0.4);
            transform: translateX(2px) scale(1.01);
        }

        /* Child link active state */
        .sidebar nav ul li.active>a {
            background: linear-gradient(135deg, #007acc 0%, #0056b3 100%) !important;
            color: white !important;
            box-shadow: 0 1px 6px rgba(0, 122, 204, 0.25);
            transform: translateX(2px) scale(1.01);
        }

        /* Hover effects */
        .sidebar nav a:hover {
            background-color: rgba(0, 122, 204, 0.08);
            color: #007acc;
            transform: translateX(1px) scale(1.01);
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }

        /* Active link hover effects */
        .sidebar nav a.active:hover {
            background: linear-gradient(135deg, #0056b3 0%, #003d7a 100%) !important;
            color: white !important;
            transform: translateX(4px) scale(1.03);
            box-shadow: 0 3px 12px rgba(0, 122, 204, 0.4);
        }

        /* Fade out animation - when losing active state */
        .sidebar nav a:not(.active) {
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* Subtle animation effect */
        .sidebar nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .sidebar nav a.active::before {
            left: 100%;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Enhanced sidebar overall styles */
        .sidebar nav ul {
            padding: 8px 0;
        }

        .sidebar nav ul ul {
            padding: 4px 0;
            margin-left: 12px;
            border-left: 2px solid rgba(0, 122, 204, 0.1);
        }

        /* Responsive improvements */
        @media (max-width: 768px) {
            .sidebar nav a {
                margin: 1px 4px;
                border-radius: 6px;
            }
        }
    </style>
</body>

</html>